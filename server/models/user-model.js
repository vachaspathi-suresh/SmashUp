const mongoose = require("mongoose");

const defaultAvatar_HULK =
  "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciICB2aWV3Qm94PSIwIDAgNDggNDgiIHdpZHRoPSI5NnB4IiBoZWlnaHQ9Ijk2cHgiPjxwYXRoIGZpbGw9IiMyNjMyMzgiIGQ9Ik05IDIzYzAgMC0xLjYyNS0xLTItMmg0Ljc1TDkgMjN6TTMyLjg3NSAxOUwzNyAyMGMwIDAgMCAxLTEgMnYxTDMyLjg3NSAxOXoiLz48cGF0aCBmaWxsPSIjNTU4YjJmIiBkPSJNOC4yOTMsMjMuMTI1bDEuNDU3LTAuOTZDOS45MTMsMjIuMDU3LDEwLjEwNCwyMiwxMC4zLDIySDEybDEsMC42OTh2OS4yOTJsLTEuODEyLTAuMDAxbC0xLjYtMC43MjIgQzkuMjMsMzEuMTA0LDksMzAuNzQ3LDksMzAuMzU0di0xLjExOGMwLTAuMTU1LTAuMDM2LTAuMzA4LTAuMTA2LTAuNDQ3bC0wLjc4OS0xLjU3OEM4LjAzNiwyNy4wNzIsOCwyNi45MTksOCwyNi43NjR2LTIuOTMyIEM4LDIzLjU2Nyw4LjEwNSwyMy4zMTMsOC4yOTMsMjMuMTI1eiIvPjxwYXRoIGZpbGw9IiMzMzY5MWUiIGQ9Ik0xMC42LDI0aDAuNzcyTDEzLDI1LjEzNnY0Ljg1M2wtMS4zOC0wLjAwMUwxMSwyOS43MDl2LTAuNDczYzAtMC40NjMtMC4xMS0wLjkyNy0wLjMxNy0xLjM0MiBMMTAsMjYuNTI4di0yLjEzM0wxMC42LDI0eiIvPjxwYXRoIGZpbGw9IiM1NThiMmYiIGQ9Ik0zOS43MDcsMjMuMTI1bC0xLjQ1Ny0wLjk2QzM4LjA4NywyMi4wNTcsMzcuODk2LDIyLDM3LjcsMjJIMzZsLTEsMC42OTh2OS4yOTJsMS44MTItMC4wMDEgbDEuNi0wLjcyMkMzOC43NywzMS4xMDQsMzksMzAuNzQ3LDM5LDMwLjM1NHYtMS4xMThjMC0wLjE1NSwwLjAzNi0wLjMwOCwwLjEwNi0wLjQ0N2wwLjc4OS0xLjU3OCBDMzkuOTY0LDI3LjA3Miw0MCwyNi45MTksNDAsMjYuNzY0di0yLjkzMkM0MCwyMy41NjcsMzkuODk1LDIzLjMxMywzOS43MDcsMjMuMTI1eiIvPjxwYXRoIGZpbGw9IiMzMzY5MWUiIGQ9Ik0zNy40LDI0aC0wLjc3MkwzNSwyNS4xMzZ2NC44NTNsMS4zOC0wLjAwMWwwLjYyLTAuMjh2LTAuNDczYzAtMC40NjMsMC4xMS0wLjkyNywwLjMxNy0xLjM0MiBMMzgsMjYuNTI4di0yLjEzM0wzNy40LDI0eiIvPjxwYXRoIGZpbGw9IiM3Y2IzNDIiIGQ9Ik0yNCwxMGM5LDAsMTAuOTk2LDQuMDk2LDEwLjk5Niw3YzAsMCwxLjAxNSw2LjcyNCwxLjAwNCw4LjM3NWMtMC4wMTUsMi4xMzQsMSw4Ljc0NCwxLDkuMzc2IGMwLDEuMTM4LTAuOSwyLjM0Ni0yLjM4Miw1LjgxNEMzMy4xODYsNDMuOTE3LDMyLjQ1Niw0NiwzMC40ODEsNDZIMjRoLTYuNDgxYy0xLjk3NSwwLTIuNzA0LTIuMDgzLTQuMTM3LTUuNDM1IEMxMS45LDM3LjA5NywxMSwzNS44ODgsMTEsMzQuNzUxYzAtMC42MzIsMS4wMTUtNy4yNDEsMS05LjM3NkMxMS45ODksMjMuNzI0LDEyLDE4LDEyLDE4QzEyLDE1LjA5NiwxNSwxMCwyNCwxMHoiLz48cGF0aCBmaWxsPSIjNjg5ZjM4IiBkPSJNMTQuMzc1IDI4LjI2OGMtLjI4Ny0uMTU5LTEuNDEzLS43ODYtMi40NjQtMS4zNTYuMDU3LS42NS4wOTItMS4yMTIuMDg5LTEuNjEzLS4wMTEtMS42MzQgMC0zLjM0IDAtMy4zNEMxMiAyMS4xNTUgMTIgMTUgMTIgMTVsNiAyYy0zIDAtMyA1LjIwNi0zIDUuMjA2di44NjZoLjg3NWw1LjczNyA0Ljc4NkwyMSAzMGgtMy4wNjJjLS42MDcgMC0xLjE5OC0uMTgxLTEuNjk4LS41MjJDMTUuNjExIDI5LjA1MSAxNC43NiAyOC40ODIgMTQuMzc1IDI4LjI2OHpNMTEgMzQuNzUxYzAtLjQuNDA2LTMuMTkzLjcwMS01LjczMkwxMyAzMC42NjdjLjY0OS44NjUgMSAxLjkxOCAxIDN2OC4zNDdsMCAwYy0uMTk1LS40NTQtLjM5Ny0uOTMtLjYxOC0xLjQ0OEMxMS45IDM3LjA5NyAxMSAzNS44ODggMTEgMzQuNzUxeiIvPjxwYXRoIGZpbGw9IiM1NThiMmYiIGQ9Ik0yMSwyOGwwLTFsMSwxaDF2NWMwLDAtMS41LTEtMy0xdi0yTDIxLDI4eiIvPjxwYXRoIGZpbGw9IiNlZmViZTkiIGQ9Ik0xOC4zNzUsMjhjMC42OTUsMCwxLjU0My0wLjAwNiwyLjYyNSwwYzAuMDAxLTAuMDEyLDAtMC40ODcsMC0wLjVjMC0xLjM4MS0xLjExOS0yLjUtMi41LTIuNSBzLTIuOTE3LDAuNS0zLjUsMUMxNS4zNzUsMjYuNjI1LDE1Ljg3NSwyOCwxOC4zNzUsMjh6Ii8+PHBhdGggZmlsbD0iIzY4OWYzOCIgZD0iTTE4LjUgMjVBMS41IDEuNSAwIDEgMCAxOC41IDI4QTEuNSAxLjUgMCAxIDAgMTguNSAyNVoiLz48cGF0aCBmaWxsPSIjMjYzMjM4IiBkPSJNMTguNSAyNkEwLjUgMC41IDAgMSAwIDE4LjUgMjdBMC41IDAuNSAwIDEgMCAxOC41IDI2WiIvPjxwYXRoIGZpbGw9IiMyNjMyMzgiIGQ9Ik0xMywyM2gydi0xYzYsMiw3LDYsNyw2aC0xYzAsMC0yLTMtOS0zbDItMUwxMywyM3oiLz48cGF0aCBmaWxsPSIjNjg5ZjM4IiBkPSJNMTUuOTg4LDM4Ljc1QzE1Ljk4OCwzOC43NSwxNiw0NCwxOSw0NGMyLDAsMy0yLDUtMnMzLDIsNSwyYzMsMCwzLTUuMjUsMy01LjI1bC04LjM2NCwwLjU0OSBMMTUuOTg4LDM4Ljc1eiIvPjxwYXRoIGZpbGw9IiNlZWUiIGQ9Ik0xOC4yMjMsNDBDMTYuODE1LDQwLDE2LDM5LDE2LDM3Ljc3OFYzNi4yNWMwLTEuMjIyLDAuOTYzLTIuMjIyLDIuMjIzLTIuMjIyczEuMTEsMSw1Ljc3NywxIHM0LjY2Ni0xLDUuNzc3LTFjMS4xMTEsMCwyLjIyMywxLDIuMjIzLDIuMjIydjEuNTI4QzMyLDM5LDMxLjExMSw0MCwyOS43NzcsNDBjMCwwLTIuNzc3LTEtNS43NzctMVMxOC4yMjMsNDAsMTguMjIzLDQweiIvPjxwYXRoIGZpbGw9IiNkN2NjYzgiIGQ9Ik0yNCAzNS4wMjhjLS4zNjUgMC0uNjkxLS4wMDgtMS0uMDE5djQuMTcxaDJ2LTQuMTcxQzI0LjY5IDM1LjAyIDI0LjM2NCAzNS4wMjggMjQgMzUuMDI4ek0xOC4yMjMgMzQuMDI4Yy0uMDc3IDAtLjE0OC4wMTUtLjIyMy4wMjJ2NS4xM2gydi00LjU5N0MxOS4xNzQgMzQuMzE1IDE4Ljg5OCAzNC4wMjggMTguMjIzIDM0LjAyOHpNMjkuNzc3IDM0LjAyOGMtLjYwOCAwLS44ODguMjk5LTEuNzc3LjU3MVYzOWgydi00Ljk0OEMyOS45MjYgMzQuMDQzIDI5Ljg1MiAzNC4wMjggMjkuNzc3IDM0LjAyOHoiLz48cGF0aCBmaWxsPSIjOWNjYzY1IiBkPSJNMjksNDFjLTIsMC0yLTEtNS0xcy0zLDEtNSwxcy0zLTEuMDU3LTMtMi40NjVWMzdjMCwwLDAuNzE2LDIuMTI2LDIuNzc4LDIuMDQ3QzIwLDM5LDIxLDM4LDI0LDM4IHM0LDEsNSwxYzIuMjM2LDAsMy0yLDMtMnYxLjUzNUMzMiwzOS45NDMsMzEsNDEsMjksNDF6Ii8+PHBhdGggZmlsbD0iIzY4OWYzOCIgZD0iTTMzLjYyNSAyOC4yNjhjLjI4Ny0uMTU5IDEuNDEzLS43ODYgMi40NjQtMS4zNTZDMzYuMDMyIDI2LjI2MiAzNiAyNS43IDM2IDI1LjI5OSAzNiAyMyAzNSAxNyAzNSAxN2gtNWMzIDAgMyA1LjIwNiAzIDUuMjA2di44NjZoLS44NzVsLTUuNzM3IDQuNzg2TDI3IDMwaDMuMDYyYy42MDcgMCAxLjE5OC0uMTgxIDEuNjk4LS41MjJDMzIuMzg5IDI5LjA1MSAzMy4yNCAyOC40ODIgMzMuNjI1IDI4LjI2OHpNMzcgMzQuNzUxYzAtLjQtLjQwNi0zLjE5My0uNzAxLTUuNzMyTDM1IDMwLjY2N2MtLjY0OS44NjUtMSAxLjkxOC0xIDN2OC4zNDdsMCAwYy4xOTUtLjQ1NC4zOTctLjkzLjYxOC0xLjQ0OEMzNi4xIDM3LjA5NyAzNyAzNS44ODggMzcgMzQuNzUxeiIvPjxwYXRoIGZpbGw9IiM1NThiMmYiIGQ9Ik0yNywyOGwwLTFsLTEsMWgtMXYzLjEyNVYzM2MwLDAsMS41LTEsMy0xdi0yTDI3LDI4eiIvPjxwYXRoIGZpbGw9IiM5Y2NjNjUiIGQ9Ik0yNiAyOEwyNSAzMCAyNiAzMSAyNSAzMyAyMyAzMyAyMiAzMSAyMyAzMCAyMiAyOCAyNCAyN3oiLz48cGF0aCBmaWxsPSIjZWZlYmU5IiBkPSJNMzMsMjZjLTAuNTgzLTAuNS0yLjExOS0xLTMuNS0xUzI3LDI2LjExOSwyNywyNy41YzAsMC4wMTMtMC4wMDEsMC40ODgsMCwwLjUgYzEuMDgyLTAuMDA2LDEuOTMsMCwyLjYyNSwwQzMyLjEyNSwyOCwzMi42MjUsMjYuNjI1LDMzLDI2eiIvPjxwYXRoIGZpbGw9IiM2ODlmMzgiIGQ9Ik0yOS41IDI1QTEuNSAxLjUgMCAxIDAgMjkuNSAyOEExLjUgMS41IDAgMSAwIDI5LjUgMjVaIi8+PHBhdGggZmlsbD0iIzI2MzIzOCIgZD0iTTI5LjUgMjZBMC41IDAuNSAwIDEgMCAyOS41IDI3QTAuNSAwLjUgMCAxIDAgMjkuNSAyNloiLz48cGF0aCBmaWxsPSIjMjYzMjM4IiBkPSJNMzUsMjNoLTJ2LTFjLTYsMi03LDYtNyw2aDFjMCwwLDItMyw5LTNsLTItMUwzNSwyM3oiLz48cGF0aCBmaWxsPSIjNjg5ZjM4IiBkPSJNMjUgMjVMMjQgMjYgMjMgMjMgMjMgMjcgMjIgMjggMjYgMjggMjUgMjd6Ii8+PHBhdGggZmlsbD0iIzI2MzIzOCIgZD0iTTIzLDE3YzAsMC0yLDItMyw1YzQtMSw3LjU2MS00Ljk4Nyw3LjU2MS00Ljk4N0wyNiwyMWMwLDAsNC0yLDUtNGMwLDMsNSw0LDUsNGwwLjk5Ni0xIGMxLDAsMi4wMDQsMSwyLjAwNCwxYzAtMi0xLjI1NS00LjUwMS0yLjAwNC01YzIsMCwzLjAwNC0yLDMuMDA0LTJjLTIsMC0zLjEyNS0xLTMuMTI1LTFjMy4xMjUsMCw0LjA2Mi0yLjM5Miw0LjEyMS0zLjM3NSBDNDEuMDE5LDkuMjQ5LDQxLDksNDEsOXMtMC44ODgsMS4wMDItMiwxYy0wLjQ0Ni0wLjAwMS0wLjkxNy0wLjExNi0xLjc1LTAuNjI1QzM1LDgsMzUsOCwzNSw4bDItMWMwLDAtMi42MjUtMS00LTEgYy0wLjU1OSwwLTEuMzc1LDAtMiwxYzAtMi0xLTMtMS0zbC0xLDJjMCwwLTEtNC0xMS00bDMsM2MwLDAtMS0xLTYtMWMwLDAsMiwxLjM3NSwyLDJjLTMsMC01LTEtNS0xczAuMTI1LDIuMTI1LDEuMTI1LDMgYzAsMC0xLjI0NSwwLjI0Ni0yLjEyNSwxYy0wLjg3NSwwLjc1LTIsMS0zLDFjMC4xMjUsMS4zNzUsMSwzLDEsM3MtMS40MzgsMS4zNDgtMS44NzUsMy4wNTNDNy4wNDYsMTYuMzU5LDcsMTYuNjc3LDcsMTcgYzAuMDk3LTAuMTQ1LDAuMjAxLTAuMjY5LDAuMzExLTAuMzc1QzguMDUxLDE1LjkwNSw5LDE2LDksMTZzMC4zMzQsMy42NzQtMS42MjUsNC44MjNDNy4yNTksMjAuODkxLDcuMTM0LDIwLjk1MSw3LDIxIGMwLjE4MSwwLjE4MSwwLjM5NCwwLjMyOSwwLjYyMiwwLjQ1QzguNjU3LDIyLDEwLDIyLDEwLDIyaDJjMCwwLDAtNSwzLTVjLTEsMS0xLDItMSwybDQtMmMwLDAtMSwyLTEsM0MyMCwxOSwyMywxNywyMywxN3oiLz48L3N2Zz4=";

const userSchema = new mongoose.Schema({
  username: {
    type: String,
    required: true,
    min: 3,
    max: 20,
    unique: true,
  },
  name: {
    type: String,
    required: true,
    max: 50,
  },
  email: {
    type: String,
    required: true,
    unique: true,
    max: 50,
  },
  password: {
    type: String,
    required: true,
    min: 8,
  },
  avatarImage: {
    type: String,
    default: defaultAvatar_HULK,
  },
  friends: [{ type: mongoose.Types.ObjectId, required: true, ref: "User" }],
  unread: [{ type: mongoose.Types.ObjectId, required: true, ref: "Message" }],
});

module.exports = mongoose.model("User", userSchema);
